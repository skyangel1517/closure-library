<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.labs.pubsub.BroadcastPubSub</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="dossier-main"><main data-page-data="[null,[[[&quot;goog.labs.pubsub.BroadcastPubSub&quot;,null,null,null,[null,58,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L58&quot;]],null,[[[null,&quot;&lt;p&gt;Topic-based publish/subscribe messaging implementation that provides\ncommunication between browsing contexts that share the same origin.&lt;/p&gt;\n&lt;p&gt;Wrapper around PubSub that utilizes localStorage to broadcast publications to\nall browser windows with the same origin as the publishing context. This\nallows for topic-based publish/subscribe implementation of strings shared by\nall browser contexts that share the same origin.&lt;/p&gt;\n&lt;p&gt;Delivery is guaranteed on all browsers except IE8 where topics expire after a\ntimeout. Publishing of a topic within a callback function provides no\nguarantee on ordering in that there is a possibility that separate origin\ncontexts may see topics in a different order.&lt;/p&gt;\n&lt;p&gt;This class is not secure and in certain cases (e.g., a browser crash) data\nthat is published can persist in localStorage indefinitely. Do not use this\nclass to communicate private or confidential information.&lt;/p&gt;\n&lt;p&gt;On IE8, localStorage is shared by the http and https origins. An attacker\ncould possibly leverage this to publish to the secure origin.&lt;/p&gt;\n&lt;p&gt;goog.labs.pubsub.BroadcastPubSub wraps an instance of PubSub rather than\nsubclassing because the base PubSub class allows publishing of arbitrary\nobjects.&lt;/p&gt;\n&lt;p&gt;Special handling is done for the IE8 browsers. See the IE8_EVENTS_KEY_\nconstant and the &lt;code&gt;publish&lt;/code&gt; function for more information.&lt;/p&gt;\n&quot;]]],[null,null,null,null,null,null,1],null,[],null,[],[],[[&quot;BroadcastPubSub&quot;,[null,58,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L58&quot;]],[[[null,&quot;&lt;p&gt;Topic-based publish/subscribe messaging implementation that provides\ncommunication between browsing contexts that share the same origin.&lt;/p&gt;\n&lt;p&gt;Wrapper around PubSub that utilizes localStorage to broadcast publications to\nall browser windows with the same origin as the publishing context. This\nallows for topic-based publish/subscribe implementation of strings shared by\nall browser contexts that share the same origin.&lt;/p&gt;\n&lt;p&gt;Delivery is guaranteed on all browsers except IE8 where topics expire after a\ntimeout. Publishing of a topic within a callback function provides no\nguarantee on ordering in that there is a possibility that separate origin\ncontexts may see topics in a different order.&lt;/p&gt;\n&lt;p&gt;This class is not secure and in certain cases (e.g., a browser crash) data\nthat is published can persist in localStorage indefinitely. Do not use this\nclass to communicate private or confidential information.&lt;/p&gt;\n&lt;p&gt;On IE8, localStorage is shared by the http and https origins. An attacker\ncould possibly leverage this to publish to the secure origin.&lt;/p&gt;\n&lt;p&gt;goog.labs.pubsub.BroadcastPubSub wraps an instance of PubSub rather than\nsubclassing because the base PubSub class allows publishing of arbitrary\nobjects.&lt;/p&gt;\n&lt;p&gt;Special handling is done for the IE8 browsers. See the IE8_EVENTS_KEY_\nconstant and the &lt;code&gt;publish&lt;/code&gt; function for more information.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],1,[],null,[]],[[[&quot;addOnDisposeCallback&quot;,[null,221,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L221&quot;]],[[[null,&quot;&lt;p&gt;Invokes a callback function when this object is disposed. Callbacks are\ninvoked in the order in which they were added. If a callback is added to\nan already disposed Disposable, it will be called immediately.&lt;/p&gt;\n&quot;]]],null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#addOnDisposeCallback&quot;]],null,[]],null,[],[]],[&quot;T&quot;],null,[[&quot;callback&quot;,[null,null,[null,[null,null,null,null,null,[[[null,null,null,[&quot;T&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[],[null,null,null,null,null,null,null,1]]],[[[null,&quot;&lt;p&gt;The callback function.&lt;/p&gt;\n&quot;]]]],[&quot;opt_scope&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;T&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;An optional scope to call the callback in.&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;clear&quot;,[null,319,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L319&quot;]],[[[null,&quot;&lt;p&gt;Clears the subscription list for a topic, or all topics if unspecified.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;opt_topic&quot;,[1,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Topic to clear (all topics if unspecified).&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;dispose&quot;,[null,42,null,[null,null,&quot;closure/goog/disposable/idisposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/idisposable.js#L42&quot;]],[[[null,&quot;&lt;p&gt;Disposes of the object and its resources.&lt;/p&gt;\n&quot;]]],null,null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#dispose&quot;]],null,[]],[[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html#dispose&quot;]],null,[]]],[]],[],null,[],[null,null,[[[null,&quot;&lt;p&gt;Nothing.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;disposeInternal&quot;,[null,326,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L326&quot;]],[[[null,&quot;&lt;p&gt;Performs appropriate cleanup. See description of goog.disposable.IDisposable\nfor examples. Classes that extend &lt;code&gt;goog.Disposable&lt;/code&gt; should override this\nmethod. Not reentrant. To avoid calling it twice, it must only be called from\nthe subclass&amp;#39; &lt;code&gt;disposeInternal&lt;/code&gt; method. Everywhere else the public &lt;code&gt;dispose&lt;/code&gt;\nmethod must be used. For example:&lt;/p&gt;\n &lt;pre&gt;\n mypackage.MyClass &amp;#61; function() {\n mypackage.MyClass.base(this, &amp;#39;constructor&amp;#39;);\n     // Constructor logic specific to MyClass.\n     ...\n   };\n   goog.inherits(mypackage.MyClass, goog.Disposable);\n\n   mypackage.MyClass.prototype.disposeInternal &amp;#61; function() {\n     // Dispose logic specific to MyClass.\n     ...\n     // Call superclass&amp;#39;s disposeInternal at the end of the subclass&amp;#39;s, like\n     // in C&amp;#43;&amp;#43;, to avoid hard-to-catch issues.\n     mypackage.MyClass.base(this, &amp;#39;disposeInternal&amp;#39;);\n   };\n &lt;/pre&gt;\n&quot;]]],null,null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#disposeInternal&quot;]],null,[]],[],[],[null,1]],[],null,[],null,[]],[[&quot;getCount&quot;,[null,309,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L309&quot;]],[[[null,&quot;&lt;p&gt;Returns the number of subscriptions to the given topic (or all topics if\nunspecified). This number will not change while publishing any messages.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;opt_topic&quot;,[1,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The topic (all topics if unspecified).&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Number of subscriptions to the topic.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getDisposed&quot;,[null,158,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L158&quot;]],[[]],[[[null,&quot;&lt;p&gt;Use &lt;a href=\&quot;goog.labs.pubsub.BroadcastPubSub.html#isDisposed\&quot;&gt;&lt;code&gt;#isDisposed&lt;/code&gt;&lt;/a&gt; instead.&lt;/p&gt;\n&quot;]]],null,[null,1],[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#getDisposed&quot;]],null,[]],null,[],[]],[],null,[],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether the object has been disposed of.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;isDisposed&quot;,[null,48,null,[null,null,&quot;closure/goog/disposable/idisposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/idisposable.js#L48&quot;]],[[]],null,null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#isDisposed&quot;]],null,[]],[[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html#isDisposed&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether the object has been disposed of.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;publish&quot;,[null,162,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L162&quot;]],[[[null,&quot;&lt;p&gt;Publishes a message to a topic. Remote subscriptions in other tabs/windows\nare dispatched via local storage events. Local subscriptions are called\nasynchronously via Timer event in order to simulate remote behavior locally.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;topic&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Topic to publish to.&lt;/p&gt;\n&quot;]]]],[&quot;var_args&quot;,[null,1,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;String arguments that are applied to each\nsubscription function.&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;registerDisposable&quot;,[null,207,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L207&quot;]],[[[null,&quot;&lt;p&gt;Associates a disposable object with this object so that they will be disposed\ntogether.&lt;/p&gt;\n&quot;]]],null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#registerDisposable&quot;]],null,[]],null,[],[]],[],null,[[&quot;disposable&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html&quot;]],null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;that will be disposed when\nthis object is disposed.&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;subscribe&quot;,[null,276,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L276&quot;]],[[[null,&quot;&lt;p&gt;Subscribes a function to a topic. The function is invoked as a method on the\ngiven &lt;code&gt;opt_context&lt;/code&gt; object, or in the global scope if no context is\nspecified. Subscribing the same function to the same topic multiple times\nwill result in multiple function invocations while publishing. Returns a\nsubscription key that can be used to unsubscribe the function from the topic\nvia &lt;a href=\&quot;goog.labs.pubsub.BroadcastPubSub.html#unsubscribeByKey\&quot;&gt;&lt;code&gt;#unsubscribeByKey&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;topic&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Topic to subscribe to.&lt;/p&gt;\n&quot;]]]],[&quot;fn&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Function to be invoked when a message is published to\nthe given topic.&lt;/p&gt;\n&quot;]]]],[&quot;opt_context&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Object in whose context the function is to be\ncalled (the global scope if none).&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Subscription key.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;subscribeOnce&quot;,[null,296,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L296&quot;]],[[[null,&quot;&lt;p&gt;Subscribes a single-use function to a topic. The function is invoked as a\nmethod on the given &lt;code&gt;opt_context&lt;/code&gt; object, or in the global scope if no\ncontext is specified, and is then unsubscribed. Returns a subscription key\nthat can be used to unsubscribe the function from the topic via &lt;a href=\&quot;goog.labs.pubsub.BroadcastPubSub.html\&quot;&gt;&lt;code&gt;#unsubscribeByKey&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;topic&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Topic to subscribe to.&lt;/p&gt;\n&quot;]]]],[&quot;fn&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Function to be invoked once and then unsubscribed when\na message is published to the given topic.&lt;/p&gt;\n&quot;]]]],[&quot;opt_context&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Object in whose context the function is to be\ncalled (the global scope if none).&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Subscription key.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;unsubscribe&quot;,[null,242,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L242&quot;]],[[[null,&quot;&lt;p&gt;Unsubscribes a function from a topic. Only deletes the first match found.\nReturns a Boolean indicating whether a subscription was removed.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;topic&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Topic to unsubscribe from.&lt;/p&gt;\n&quot;]]]],[&quot;fn&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Function to unsubscribe.&lt;/p&gt;\n&quot;]]]],[&quot;opt_context&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Object in whose context the function was to be\ncalled (the global scope if none).&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether a matching subscription was removed.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;unsubscribeByKey&quot;,[null,256,null,[null,null,&quot;closure/goog/labs/pubsub/broadcastpubsub.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/labs/pubsub/broadcastpubsub.js#L256&quot;]],[[[null,&quot;&lt;p&gt;Removes a subscription based on the key returned by &lt;a href=\&quot;goog.labs.pubsub.BroadcastPubSub.html#subscribe\&quot;&gt;&lt;code&gt;#subscribe&lt;/code&gt;&lt;/a&gt;. No-op\nif no matching subscription is found. Returns a Boolean indicating whether a\nsubscription was removed.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;key&quot;,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Subscription key.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether a matching subscription was removed.&lt;/p&gt;\n&quot;]]]],[]]],[[[&quot;creationStack&quot;,[null,37,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L37&quot;]],[[[null,&quot;&lt;p&gt;If monitoring the goog.Disposable instances is enabled, stores the creation\nstack trace of the Disposable instance.&lt;/p&gt;\n&quot;]]],null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#creationStack&quot;]],null,[]],null,[],[]],[null,null,null,null,null,[[[null,null,null,[&quot;string&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,1]]]]]],null,[[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html&quot;]],null,[]]],[[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html&quot;]],null,[]]],[],[[&quot;goog.labs.pubsub.BroadcastPubSub&quot;,null,[null,null,[null,null,&quot;goog.labs.pubsub.BroadcastPubSub.html&quot;]],null,[]],null,null,1],null,&quot;goog.labs.pubsub.BroadcastPubSub.html&quot;,&quot;goog.labs.pubsub.BroadcastPubSub&quot;,[],[],[],[]]]]]"></main><footer><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></footer></div><script src="dossier.js" defer></script>